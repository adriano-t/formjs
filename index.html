<!doctype html>
<html>
<head>
	<title>FormJS</title>
	
	<script language="javascript" src="js/formjs.js" ></script> 
	<script language="javascript" src="js/toolbar.js" ></script> 
	<script language="javascript" src="js/contextmenu.js" ></script> 
	<script language="javascript" src="js/treeview.js" ></script> 
	<script language="javascript" src="js/windows.js" ></script> 
	
	<link rel="stylesheet" type="text/css" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" href="css/toolbar.css" />
	<link rel="stylesheet" type="text/css" href="css/contextmenu.css" />
	<link rel="stylesheet" type="text/css" href="css/treeview.css" />
	<link rel="stylesheet" type="text/css" href="css/windows.css" />
	 
</head>
<body>

<div id="test_div"></div>

<div id="test_window">
	<div class="wnd_title"></div>
	<div class="wnd_body">
		<div style="min-width:250px; background:white;">
			Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della tipografia e della stampa. Lorem Ipsum &egrave; considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo tipografo prese una cassetta di caratteri e li assembl&ograve; per preparare un testo campione. &egrave; sopravvissuto non solo a pi&ugrave; di cinque secoli, ma anche al passaggio alla videoimpaginazione, pervenendoci sostanzialmente inalterato. Fu reso popolare, negli anni 60, con la diffusione dei fogli di caratteri trasferibili “Letraset”, che contenevano passaggi del Lorem Ipsum, e pi&ugrave; recentemente da software di impaginazione come Aldus PageMaker, che includeva versioni del Lorem Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Ipsum.
		</div>
	</div>
</div>

<div id="test_window2">
	<div class="wnd_title"></div>
	<div class="wnd_body">
		<div style="min-width:250px; background:white;">
			Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della tipografia e della stampa. Lorem Ipsum &egrave; considerato il testo segnaposto standard sin dal sedicesimo secolo, quando un anonimo tipografo prese una cassetta di caratteri e li assembl&ograve; per preparare un testo campione. &egrave; sopravvissuto non solo a pi&ugrave; di cinque secoli, ma anche al passaggio alla videoimpaginazione, pervenendoci sostanzialmente inalterato. Fu reso popolare, negli anni 60, con la diffusione dei fogli di caratteri trasferibili “Letraset”, che contenevano passaggi del Lorem Ipsum, e pi&ugrave; recentemente da software di impaginazione come Aldus PageMaker, che includeva versioni del Lorem Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Lorem Ipsum &egrave; un testo segnaposto utilizzato nel settore della  Ipsum.
		</div>
	</div>
</div>


<script>
document.body.onload = function(){
	//Get the div element
	var div = document.getElementById("test_div");

	var submenu2 = new Contextmenu();
	submenu2.addElement( "res/icons/ico_add.png", "Add", function(){
		alert("Added!");
	});
	submenu2.addSeparator();
	submenu2.addElement( "res/icons/ico_arrow_down.png", "Move Down", function(){
		alert("Moved Down!");
	});
	
	var submenu = new Contextmenu();
	submenu.addElement( "res/icons/ico_file.png", "Show Document", function(){
		
	});
	
	var mainmenu = new Contextmenu();
	
	mainmenu.addElement( "res/icons/ico_newfile.png", "View file",function(){
	
	}, submenu);
	mainmenu.addElement( "res/icons/ico_paste.png", "Paste", function(){
	
	});
	mainmenu.addElement( "res/icons/ico_move.png", "Move Bone", function(){
	
	});
	mainmenu.addElement( "res/icons/ico_length.png", "Scale Bone", function(){
	
	});
	
	mainmenu.addElement("res/icons/ico_copy.png", "Copy", function(){
	
	});
	
	//Create a treeview
	var toolbar = new Toolbar();
	 
	
	//New file 
	
	toolbar.addElement(
		"", "File",
		null,
		mainmenu
	);
	
		
	//Load
	toolbar.addElement(
		"res/icons/ico_folder.png",
		"Load",
		function(){}
	);
		
	//Separator
	toolbar.addSeparator();
	
	
	//Arrow
	var subMenu = {a:true}
	toolbar.addElement(
		"res/icons/ico_save.png",
		"Save",
		function(){ alert("Clicked Save!");},
		submenu2
	);
	
	
	//Add
	toolbar.addElement(
		"res/icons/ico_selection.png",
		"Select",
		function(){}
	);
	
	toolbar.addSeparator();
	
	
	//only icons
	toolbar.addElement( "res/icons/ico_rotate.png", "",
		function(){}
	);
	toolbar.addElement( "res/icons/ico_folder_other.png", "",
		function(){}
	);
	
	div.appendChild(toolbar.DOM);
	
	tree = new Treeview();
	
	images = ["res/icons/ico_file.png", "res/icons/ico_newfile.png", "res/icons/ico_paste.png"];
	names = ["spr_scarpallaccia", "spr_antani",  "spr_tapioco",  "spr_tarapia",  "spr_prematurata",  "spr_allacciascarpa"];
	folders = ["Animations", "Sprites",  "Rooms",  "Backgrounds",  "Sounds",  "Settings"];
	groups = ["Group", "Player",  "Glare", "Old",  "Temp",  "Mascetti"];
	
	for(var i=0; i< 5; i++){
		var node = new TreeNode(choose(folders), "res/icons/ico_folder.png");
		
		for(var j=0; j< 5; j++){
			var node2 = new TreeNode(choose(groups), "res/icons/ico_folder_other.png", true);
			
			for(var k=0; k< 5; k++){
				var node3 = new TreeNode(choose(names), choose(images) , true, mainmenu);
				node2.addChild(node3);
			}
		
			node.addChild(node2);
		}
		tree.root.addChild(node);
		node.locked = true;
	}
	
	
	
	/********************************
	********** Window Test **********
	********************************/
	
	var d = document.getElementById("test_window");
	var win1 = new WindowJS(d, "Window with cofandina", [true, true, true]);
	//win1.DOMBody.appendChild();
	var d = document.getElementById("test_window2");
	(new WindowJS(d, "Window with cofandina", [true, true, true])).setPosition(200, 90);

	win1.DOMBody.innerHTML = "";
	win1.DOMBody.appendChild(tree.DOM);
	tree.populate();
	tree.DOM.style.width = "150px";
	tree.DOM.style.height = "300px";
	
}


function choose(elements){
	return elements[Math.floor(Math.random() *  elements.length)];
}

</script>

</body>
</html>